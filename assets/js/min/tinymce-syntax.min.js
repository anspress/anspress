!function(){tinymce.create("tinymce.plugins.apsyntax",{init:function(a,b){var c=function(a){var b=a.selection.getNode();return a.$(b).is("pre")||a.$(b).is("code")?a.$(b).html():null},d=function(a){var b=a.selection.getNode();if(b){var c=a.$(b).attr("aplang");if(c)return c}return null},e=function(){var b=[];return a.$.each(AP_Brushes,function(a,c){b.push({text:c,value:a})}),b},f=function(a){var b=a.selection.getNode();return!!a.$(b).is("code")};a.addButton("apcode",{title:a.getLang("anspress.i18n_insert_code"),icon:"code",onclick:function(){var b=a.windowManager.open({title:a.getLang("anspress.i18n_insert_codes"),resizable:!0,scrollbars:!0,width:700,height:300,buttons:[{text:a.getLang("anspress.i18n_insert"),subtype:"primary",onclick:"submit"},{text:"Close",onclick:function(){b.close()}}],body:[{type:"listbox",name:"language",label:"Language",values:e(),value:d(a)},{type:"checkbox",name:"inline",label:a.getLang("anspress.i18n_inline"),value:f(a)},{type:"textbox",name:"code",label:!1,text:a.getLang("anspress.i18n_insert_your_code"),minWidth:300,minHeight:200,multiline:!0,value:c(a)}],onsubmit:function(c){if(""!==c.data.code){var d=c.data.inline?"code":"pre";a.insertContent("<"+d+' aplang="'+c.data.language+'" id="__new" contenteditable="false">'+tinyMCE.DOM.encode(c.data.code)+"</"+d+">");tinymce.DOM.createRng();a.focus(),a.selection.select(a.$("#__new").removeAttr("id")[0]),a.selection.collapse(0)}b.close()}})}})},createControl:function(a,b){return null}}),tinymce.PluginManager.add("apsyntax",tinymce.plugins.apsyntax)}();
//# sourceMappingURL=tinymce-syntax.min.js.map